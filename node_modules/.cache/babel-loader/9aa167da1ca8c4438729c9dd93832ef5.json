{"ast":null,"code":"import _slicedToArray from\"/Users/caio/Projects/Samples/front-vawlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';var DEFAULT_OPTIONS={config:{attributes:true,childList:false,subtree:false}};export var useMutationObservable=function useMutationObservable(targetEl,cb){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:DEFAULT_OPTIONS;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),observer=_useState2[0],setObserver=_useState2[1];useEffect(function(){var obs=new MutationObserver(cb);setObserver(obs);},[cb,options,setObserver]);useEffect(function(){if(!observer)return;var config=options.config;observer.observe(targetEl,config);// eslint-disable-next-line consistent-return\nreturn function(){if(observer){observer.disconnect();}};},[observer,targetEl,options]);};","map":{"version":3,"names":["useEffect","useState","DEFAULT_OPTIONS","config","attributes","childList","subtree","useMutationObservable","targetEl","cb","options","observer","setObserver","obs","MutationObserver","observe","disconnect"],"sources":["/Users/caio/Projects/Samples/front-vawlog/src/hooks/useMutationObservable.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nconst DEFAULT_OPTIONS = {\n  config: { attributes: true, childList: false, subtree: false },\n};\nexport const useMutationObservable = (targetEl, cb, options = DEFAULT_OPTIONS) => {\n  const [observer, setObserver] = useState(null);\n\n  useEffect(() => {\n    const obs = new MutationObserver(cb);\n    setObserver(obs);\n  }, [cb, options, setObserver]);\n\n  useEffect(() => {\n    if (!observer) return;\n    const { config } = options;\n    observer.observe(targetEl, config);\n    // eslint-disable-next-line consistent-return\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [observer, targetEl, options]);\n};\n"],"mappings":"gKAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,GAAMC,gBAAe,CAAG,CACtBC,MAAM,CAAE,CAAEC,UAAU,CAAE,IAAI,CAAEC,SAAS,CAAE,KAAK,CAAEC,OAAO,CAAE,KAAM,CAC/D,CAAC,CACD,MAAO,IAAMC,sBAAqB,CAAG,QAAxBA,sBAAqB,CAAIC,QAAQ,CAAEC,EAAE,CAAgC,IAA9BC,QAAO,2DAAGR,eAAe,CAC3E,cAAgCD,QAAQ,CAAC,IAAI,CAAC,wCAAvCU,QAAQ,eAAEC,WAAW,eAE5BZ,SAAS,CAAC,UAAM,CACd,GAAMa,IAAG,CAAG,GAAIC,iBAAgB,CAACL,EAAE,CAAC,CACpCG,WAAW,CAACC,GAAG,CAAC,CAClB,CAAC,CAAE,CAACJ,EAAE,CAAEC,OAAO,CAAEE,WAAW,CAAC,CAAC,CAE9BZ,SAAS,CAAC,UAAM,CACd,GAAI,CAACW,QAAQ,CAAE,OACf,GAAQR,OAAM,CAAKO,OAAO,CAAlBP,MAAM,CACdQ,QAAQ,CAACI,OAAO,CAACP,QAAQ,CAAEL,MAAM,CAAC,CAClC;AACA,MAAO,WAAM,CACX,GAAIQ,QAAQ,CAAE,CACZA,QAAQ,CAACK,UAAU,EAAE,CACvB,CACF,CAAC,CACH,CAAC,CAAE,CAACL,QAAQ,CAAEH,QAAQ,CAAEE,OAAO,CAAC,CAAC,CACnC,CAAC"},"metadata":{},"sourceType":"module"}