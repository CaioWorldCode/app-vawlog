{"ast":null,"code":"import React,{useEffect}from'react';import{Dropdown}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import classNames from'classnames';import{MENU_PLACEMENT}from'constants.js';import{changeLang}from'lang/langSlice';import{layoutShowingNavMenu}from'layout/layoutSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MENU_NAME='NavLanguageSwitcher';var NavLanguageSwitcher=function NavLanguageSwitcher(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.menu;}),behaviourHtmlData=_useSelector.behaviourStatus.behaviourHtmlData,placement=_useSelector.placementStatus.view,attrMobile=_useSelector.attrMobile,attrMenuAnimate=_useSelector.attrMenuAnimate;var _useSelector2=useSelector(function(state){return state.settings;}),color=_useSelector2.color;var _useSelector3=useSelector(function(state){return state.layout;}),showingNavMenu=_useSelector3.showingNavMenu;var _useSelector4=useSelector(function(state){return state.lang;}),languages=_useSelector4.languages,currentLang=_useSelector4.currentLang;var onSelectLang=function onSelectLang(code){dispatch(changeLang(code));};var onToggle=function onToggle(status,event){if(event&&event.stopPropagation)event.stopPropagation();else if(event&&event.originalEvent&&event.originalEvent.stopPropagation)event.originalEvent.stopPropagation();dispatch(layoutShowingNavMenu(status?MENU_NAME:''));};useEffect(function(){dispatch(layoutShowingNavMenu(''));// eslint-disable-next-line\n},[attrMenuAnimate,behaviourHtmlData,attrMobile,color]);return/*#__PURE__*/_jsx(\"div\",{className:\"language-switch-container\",children:/*#__PURE__*/_jsxs(Dropdown,{onToggle:onToggle,show:showingNavMenu===MENU_NAME,align:\"end\",children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"empty\",className:classNames('language-button',{show:showingNavMenu===MENU_NAME}),children:currentLang.code}),/*#__PURE__*/_jsx(Dropdown.Menu,{popperConfig:{modifiers:[{name:'offset',options:{offset:function offset(){if(placement===MENU_PLACEMENT.Vertical){return[6,7];}return[0,7];}}}]},children:languages.map(function(lang){return/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(){return onSelectLang(lang.code);},children:lang.code},lang.locale);})})]})});};export default/*#__PURE__*/React.memo(NavLanguageSwitcher);","map":{"version":3,"names":["React","useEffect","Dropdown","useDispatch","useSelector","classNames","MENU_PLACEMENT","changeLang","layoutShowingNavMenu","MENU_NAME","NavLanguageSwitcher","dispatch","state","menu","behaviourHtmlData","behaviourStatus","placement","placementStatus","view","attrMobile","attrMenuAnimate","settings","color","layout","showingNavMenu","lang","languages","currentLang","onSelectLang","code","onToggle","status","event","stopPropagation","originalEvent","show","modifiers","name","options","offset","Vertical","map","locale","memo"],"sources":["/Users/caio/Projects/Samples/front-vawlog/src/layout/nav/NavLanguageSwitcher.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Dropdown } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport { MENU_PLACEMENT } from 'constants.js';\nimport { changeLang } from 'lang/langSlice';\nimport { layoutShowingNavMenu } from 'layout/layoutSlice';\n\nconst MENU_NAME = 'NavLanguageSwitcher';\nconst NavLanguageSwitcher = () => {\n  const dispatch = useDispatch();\n\n  const {\n    behaviourStatus: { behaviourHtmlData },\n    placementStatus: { view: placement },\n    attrMobile,\n    attrMenuAnimate,\n  } = useSelector((state) => state.menu);\n  const { color } = useSelector((state) => state.settings);\n  const { showingNavMenu } = useSelector((state) => state.layout);\n  const { languages, currentLang } = useSelector((state) => state.lang);\n\n  const onSelectLang = (code) => {\n    dispatch(changeLang(code));\n  };\n  const onToggle = (status, event) => {\n    if (event && event.stopPropagation) event.stopPropagation();\n    else if (event && event.originalEvent && event.originalEvent.stopPropagation) event.originalEvent.stopPropagation();\n    dispatch(layoutShowingNavMenu(status ? MENU_NAME : ''));\n  };\n\n  useEffect(() => {\n    dispatch(layoutShowingNavMenu(''));\n    // eslint-disable-next-line\n  }, [attrMenuAnimate, behaviourHtmlData, attrMobile, color]);\n\n  return (\n    <div className=\"language-switch-container\">\n      <Dropdown onToggle={onToggle} show={showingNavMenu === MENU_NAME} align=\"end\">\n        <Dropdown.Toggle\n          variant=\"empty\"\n          className={classNames('language-button', {\n            show: showingNavMenu === MENU_NAME,\n          })}\n        >\n          {currentLang.code}\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu\n          popperConfig={{\n            modifiers: [\n              {\n                name: 'offset',\n                options: {\n                  offset: () => {\n                    if (placement === MENU_PLACEMENT.Vertical) {\n                      return [6, 7];\n                    }\n                    return [0, 7];\n                  },\n                },\n              },\n            ],\n          }}\n        >\n          {languages.map((lang) => (\n            <Dropdown.Item key={lang.locale} onClick={() => onSelectLang(lang.code)}>\n              {lang.code}\n            </Dropdown.Item>\n          ))}\n        </Dropdown.Menu>\n      </Dropdown>\n    </div>\n  );\n};\nexport default React.memo(NavLanguageSwitcher);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}