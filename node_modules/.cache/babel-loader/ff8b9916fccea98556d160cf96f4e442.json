{"ast":null,"code":"import _toConsumableArray from\"/Users/caio/Projects/Samples/front-vawlog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect,useRef}from'react';import{Chart,registerables}from'chart.js';import{Col,Row}from'react-bootstrap';import{useSelector}from'react-redux';import ReactDOM from'react-dom';import CsLineIcons from'cs-line-icons/CsLineIcons';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChartSmallLine2=function ChartSmallLine2(){var _useSelector=useSelector(function(state){return state.settings;}),themeValues=_useSelector.themeValues;var chartContainer=useRef(null);var tooltipRef=useRef(null);var SelectLastOnePlugin=React.useMemo(function(){return{id:'selectLastOne',afterDraw:function afterDraw(chart){var tooltip=chart.tooltip;if(tooltip.getActiveElements().length===0){var meta=chart.getDatasetMeta(0);var rect=chart.canvas.getBoundingClientRect();var point=meta.data[meta.data.length-1].getCenterPoint();tooltip.setActiveElements([{datasetIndex:0,index:meta.data.length-1}],{x:rect.left+point.x,y:rect.top+point.y});}}};},[]);var ExternalTooltip=React.useCallback(function(_ref){var chart=_ref.chart,tooltip=_ref.tooltip;var text='';var value='';var icon='';var head='';var positionY=chart.canvas.offsetTop;var positionX=chart.canvas.offsetLeft;if(tooltipRef.current.opacity===0){tooltipRef.current.style.opacity=0;return;}var left=\"\".concat(positionX+tooltip.dataPoints[0].element.x-75,\"px\");var top=\"\".concat(positionY+tooltip.caretY,\"px\");if(tooltip.body){var _tooltip$dataPoints$=tooltip.dataPoints[0],dataIndex=_tooltip$dataPoints$.dataIndex,datasetIndex=_tooltip$dataPoints$.datasetIndex;text=chart.data.labels[dataIndex];value=chart.data.datasets[datasetIndex].data[dataIndex];icon=chart.data.datasets[datasetIndex].icons[dataIndex];head=chart.data.datasets[datasetIndex].label;}tooltipRef.current.style.left=left;tooltipRef.current.style.top=top;ReactDOM.render(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title heading\",children:head}),/*#__PURE__*/_jsx(\"div\",{className:\"text-small text-muted text\",children:text}),/*#__PURE__*/_jsx(CsLineIcons,{icon:icon,className:\"icon d-inline-block align-middle me-1 text-primary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cta-4 text-primary value d-inline-block align-middle\",children:value})]}),tooltipRef.current);},[]);var data=React.useMemo(function(){return{labels:['Monday','Tuesday','Wednesday','Thursday','Friday'],datasets:[{label:'ETH / USD',data:[325.3,310.4,338.2,347.1,348.0],icons:['chevron-top','chevron-bottom','chevron-top','chevron-top','chevron-top'],borderColor:themeValues.primary,pointBackgroundColor:themeValues.primary,pointBorderColor:themeValues.primary,pointHoverBackgroundColor:themeValues.foreground,pointHoverBorderColor:themeValues.primary,borderWidth:2,pointRadius:2,pointBorderWidth:2,pointHoverBorderWidth:2,pointHoverRadius:5,fill:false,cubicInterpolationMode:'monotone'}]};},[themeValues]);var config=React.useMemo(function(){return{type:'line',plugins:[SelectLastOnePlugin],options:{layout:{padding:0},showLine:true,interaction:{intersect:false,mode:'index'},plugins:{crosshair:false,datalabels:false,tooltip:{enabled:false,external:ExternalTooltip},legend:false,streaming:false},responsive:true,maintainAspectRatio:false,scales:{y:{type:'linear',grid:{display:false,drawBorder:false,drawTicks:false},ticks:{display:false}},x:{type:'category',grid:{display:false,drawTicks:false,drawBorder:false},ticks:{display:false}}}},data:data};},[data,SelectLastOnePlugin,ExternalTooltip]);useEffect(function(){var myChart=null;if(chartContainer&&chartContainer.current){Chart.register.apply(Chart,_toConsumableArray(registerables));myChart=new Chart(chartContainer.current,config);}return function(){if(myChart){myChart.destroy();}};},[config]);return/*#__PURE__*/_jsxs(Row,{className:\"g-0 d-flex w-100 align-items-center\",children:[/*#__PURE__*/_jsx(Col,{className:\"sh-8 d-flex flex-column justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"custom-tooltip\",ref:tooltipRef})}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsx(\"canvas\",{ref:chartContainer,className:\"sw-17 sw-xl-30 sh-10\"})})]});};export default/*#__PURE__*/React.memo(ChartSmallLine2);","map":{"version":3,"names":["React","useEffect","useRef","Chart","registerables","Col","Row","useSelector","ReactDOM","CsLineIcons","ChartSmallLine2","state","settings","themeValues","chartContainer","tooltipRef","SelectLastOnePlugin","useMemo","id","afterDraw","chart","tooltip","getActiveElements","length","meta","getDatasetMeta","rect","canvas","getBoundingClientRect","point","data","getCenterPoint","setActiveElements","datasetIndex","index","x","left","y","top","ExternalTooltip","useCallback","text","value","icon","head","positionY","offsetTop","positionX","offsetLeft","current","opacity","style","dataPoints","element","caretY","body","dataIndex","labels","datasets","icons","label","render","borderColor","primary","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","foreground","pointHoverBorderColor","borderWidth","pointRadius","pointBorderWidth","pointHoverBorderWidth","pointHoverRadius","fill","cubicInterpolationMode","config","type","plugins","options","layout","padding","showLine","interaction","intersect","mode","crosshair","datalabels","enabled","external","legend","streaming","responsive","maintainAspectRatio","scales","grid","display","drawBorder","drawTicks","ticks","myChart","register","destroy","memo"],"sources":["/Users/caio/Projects/Samples/front-vawlog/src/views/home/chart/ChartSmallLine2.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Chart, registerables } from 'chart.js';\nimport { Col, Row } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport CsLineIcons from 'cs-line-icons/CsLineIcons';\n\nconst ChartSmallLine2 = () => {\n  const { themeValues } = useSelector((state) => state.settings);\n  const chartContainer = useRef(null);\n  const tooltipRef = useRef(null);\n  const SelectLastOnePlugin = React.useMemo(() => {\n    return {\n      id: 'selectLastOne',\n      afterDraw: (chart) => {\n        const { tooltip } = chart;\n        if (tooltip.getActiveElements().length === 0) {\n          const meta = chart.getDatasetMeta(0);\n          const rect = chart.canvas.getBoundingClientRect();\n          const point = meta.data[meta.data.length - 1].getCenterPoint();\n          tooltip.setActiveElements(\n            [\n              {\n                datasetIndex: 0,\n                index: meta.data.length - 1,\n              },\n            ],\n            {\n              x: rect.left + point.x,\n              y: rect.top + point.y,\n            }\n          );\n        }\n      },\n    };\n  }, []);\n\n  const ExternalTooltip = React.useCallback(({ chart, tooltip }) => {\n    let text = '';\n    let value = '';\n    let icon = '';\n    let head = '';\n    const positionY = chart.canvas.offsetTop;\n    const positionX = chart.canvas.offsetLeft;\n\n    if (tooltipRef.current.opacity === 0) {\n      tooltipRef.current.style.opacity = 0;\n      return;\n    }\n\n    const left = `${positionX + tooltip.dataPoints[0].element.x - 75}px`;\n    const top = `${positionY + tooltip.caretY}px`;\n\n    if (tooltip.body) {\n      const { dataIndex, datasetIndex } = tooltip.dataPoints[0];\n      text = chart.data.labels[dataIndex];\n      value = chart.data.datasets[datasetIndex].data[dataIndex];\n      icon = chart.data.datasets[datasetIndex].icons[dataIndex];\n      head = chart.data.datasets[datasetIndex].label;\n    }\n\n    tooltipRef.current.style.left = left;\n    tooltipRef.current.style.top = top;\n\n    ReactDOM.render(\n      <>\n        <div className=\"title heading\">{head}</div>\n        <div className=\"text-small text-muted text\">{text}</div>\n        <CsLineIcons icon={icon} className=\"icon d-inline-block align-middle me-1 text-primary\" />\n        <div className=\"cta-4 text-primary value d-inline-block align-middle\">{value}</div>\n      </>,\n      tooltipRef.current\n    );\n  }, []);\n\n  const data = React.useMemo(() => {\n    return {\n      labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],\n      datasets: [\n        {\n          label: 'ETH / USD',\n          data: [325.3, 310.4, 338.2, 347.1, 348.0],\n          icons: ['chevron-top', 'chevron-bottom', 'chevron-top', 'chevron-top', 'chevron-top'],\n          borderColor: themeValues.primary,\n          pointBackgroundColor: themeValues.primary,\n          pointBorderColor: themeValues.primary,\n          pointHoverBackgroundColor: themeValues.foreground,\n          pointHoverBorderColor: themeValues.primary,\n          borderWidth: 2,\n          pointRadius: 2,\n          pointBorderWidth: 2,\n          pointHoverBorderWidth: 2,\n          pointHoverRadius: 5,\n          fill: false,\n          cubicInterpolationMode: 'monotone',\n        },\n      ],\n    };\n  }, [themeValues]);\n  const config = React.useMemo(() => {\n    return {\n      type: 'line',\n      plugins: [SelectLastOnePlugin],\n      options: {\n        layout: {\n          padding: 0,\n        },\n        showLine: true,\n        interaction: {\n          intersect: false,\n          mode: 'index',\n        },\n        plugins: {\n          crosshair: false,\n          datalabels: false,\n          tooltip: {\n            enabled: false,\n            external: ExternalTooltip,\n          },\n          legend: false,\n          streaming: false,\n        },\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          y: {\n            type: 'linear',\n            grid: {\n              display: false,\n              drawBorder: false,\n              drawTicks: false,\n            },\n            ticks: {\n              display: false,\n            },\n          },\n          x: {\n            type: 'category',\n            grid: {\n              display: false,\n              drawTicks: false,\n              drawBorder: false,\n            },\n            ticks: { display: false },\n          },\n        },\n      },\n      data,\n    };\n  }, [data, SelectLastOnePlugin, ExternalTooltip]);\n\n  useEffect(() => {\n    let myChart = null;\n    if (chartContainer && chartContainer.current) {\n      Chart.register(...registerables);\n\n      myChart = new Chart(chartContainer.current, config);\n    }\n    return () => {\n      if (myChart) {\n        myChart.destroy();\n      }\n    };\n  }, [config]);\n\n  return (\n    <Row className=\"g-0 d-flex w-100 align-items-center\">\n      <Col className=\"sh-8 d-flex flex-column justify-content-center\">\n        <div className=\"custom-tooltip\" ref={tooltipRef} />\n      </Col>\n      <Col xs=\"auto\">\n        <canvas ref={chartContainer} className=\"sw-17 sw-xl-30 sh-10\" />\n      </Col>\n    </Row>\n  );\n};\n\nexport default React.memo(ChartSmallLine2);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}