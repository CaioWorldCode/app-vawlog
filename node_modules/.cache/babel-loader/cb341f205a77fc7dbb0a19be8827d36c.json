{"ast":null,"code":"import React, { Component } from 'react';\nimport OverlayScrollbars from 'overlayscrollbars';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nclass OverlayScrollbarsComponent extends Component {\n  constructor(props) {\n    super(props);\n    this._osInstance = null;\n    this._osTargetRef = React.createRef();\n  }\n  osInstance() {\n    return this._osInstance;\n  }\n  osTarget() {\n    return this._osTargetRef.current || null;\n  }\n  componentDidMount() {\n    this._osInstance = OverlayScrollbars(this.osTarget(), this.props.options || {}, this.props.extensions);\n    mergeHostClassNames(this._osInstance, this.props.className);\n  }\n  componentWillUnmount() {\n    if (OverlayScrollbars.valid(this._osInstance)) {\n      this._osInstance.destroy();\n      this._osInstance = null;\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (OverlayScrollbars.valid(this._osInstance)) {\n      this._osInstance.options(this.props.options);\n      if (prevProps.className !== this.props.className) {\n        mergeHostClassNames(this._osInstance, this.props.className);\n      }\n    }\n  }\n  render() {\n    const _a = this.props,\n      divProps = __rest(_a, [\"options\", \"extensions\", \"children\", \"className\"]);\n    return React.createElement(\"div\", Object.assign({\n      className: \"os-host\"\n    }, divProps, {\n      ref: this._osTargetRef\n    }), React.createElement(\"div\", {\n      className: \"os-resize-observer-host\"\n    }), React.createElement(\"div\", {\n      className: \"os-padding\"\n    }, React.createElement(\"div\", {\n      className: \"os-viewport\"\n    }, React.createElement(\"div\", {\n      className: \"os-content\"\n    }, this.props.children))), React.createElement(\"div\", {\n      className: \"os-scrollbar os-scrollbar-horizontal \"\n    }, React.createElement(\"div\", {\n      className: \"os-scrollbar-track\"\n    }, React.createElement(\"div\", {\n      className: \"os-scrollbar-handle\"\n    }))), React.createElement(\"div\", {\n      className: \"os-scrollbar os-scrollbar-vertical\"\n    }, React.createElement(\"div\", {\n      className: \"os-scrollbar-track\"\n    }, React.createElement(\"div\", {\n      className: \"os-scrollbar-handle\"\n    }))), React.createElement(\"div\", {\n      className: \"os-scrollbar-corner\"\n    }));\n  }\n}\nfunction mergeHostClassNames(osInstance, className) {\n  if (OverlayScrollbars.valid(osInstance)) {\n    const {\n      host\n    } = osInstance.getElements();\n    const regex = new RegExp(`(^os-host([-_].+|)$)|${osInstance.options().className.replace(/\\s/g, \"$|\")}$`, 'g');\n    const osClassNames = host.className.split(' ').filter(name => name.match(regex)).join(' ');\n    host.className = `${osClassNames} ${className || ''}`;\n  }\n}\nexport { OverlayScrollbarsComponent };","map":{"version":3,"sources":["../src/OverlayScrollbarsComponent.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component, RefObject } from 'react';\nimport OverlayScrollbars from \"overlayscrollbars\";\n\nexport interface OverlayScrollbarsComponentProps extends React.HTMLAttributes<HTMLDivElement> {\n    children?: any;\n    options?: OverlayScrollbars.Options;\n    extensions?: OverlayScrollbars.Extensions;\n}\nexport interface OverlayScrollbarsComponentState { }\n\nexport class OverlayScrollbarsComponent extends Component<OverlayScrollbarsComponentProps, OverlayScrollbarsComponentState> {\n    private _osInstance: OverlayScrollbars | null = null;\n    private _osTargetRef: RefObject<HTMLDivElement>;\n\n    constructor(props: OverlayScrollbarsComponentProps) {\n        super(props);\n        this._osTargetRef = React.createRef();\n    }\n\n    osInstance(): OverlayScrollbars | null {\n        return this._osInstance;\n    }\n\n    osTarget(): HTMLDivElement | null {\n        return this._osTargetRef.current || null;\n    }\n\n    componentDidMount() {\n        this._osInstance = OverlayScrollbars(this.osTarget(), this.props.options || {}, this.props.extensions);\n        mergeHostClassNames(this._osInstance, this.props.className);\n    }\n\n    componentWillUnmount() {\n        if (OverlayScrollbars.valid(this._osInstance)) {\n            this._osInstance.destroy();\n            this._osInstance = null;\n        }\n    }\n\n    componentDidUpdate(prevProps: OverlayScrollbarsComponentProps) {\n        if (OverlayScrollbars.valid(this._osInstance)) {\n            this._osInstance.options(this.props.options);\n\n            if (prevProps.className !== this.props.className) {\n                mergeHostClassNames(this._osInstance, this.props.className);\n            }\n        }\n    }\n\n    render() {\n        const {\n            options,\n            extensions,\n            children,\n            className,\n            ...divProps\n        } = this.props;\n\n        return (\n            <div className=\"os-host\" {...divProps} ref={this._osTargetRef}>\n                <div className=\"os-resize-observer-host\"></div>\n                <div className=\"os-padding\">\n                    <div className=\"os-viewport\">\n                        <div className=\"os-content\">\n                            {this.props.children}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"os-scrollbar os-scrollbar-horizontal \">\n                    <div className=\"os-scrollbar-track\">\n                        <div className=\"os-scrollbar-handle\"></div>\n                    </div>\n                </div>\n                <div className=\"os-scrollbar os-scrollbar-vertical\">\n                    <div className=\"os-scrollbar-track\">\n                        <div className=\"os-scrollbar-handle\"></div>\n                    </div>\n                </div>\n                <div className=\"os-scrollbar-corner\"></div>\n            </div>\n        );\n    }\n}\n\nfunction mergeHostClassNames(osInstance: OverlayScrollbars, className: string) {\n    if (OverlayScrollbars.valid(osInstance)) {\n        const { host } = osInstance.getElements();\n        const regex = new RegExp(`(^os-host([-_].+|)$)|${osInstance.options().className.replace(/\\s/g, \"$|\")}$`, 'g');\n        const osClassNames = host.className.split(' ')\n            .filter(name => name.match(regex))\n            .join(' ');\n\n        host.className = `${osClassNames} ${className || ''}`;\n    }\n}"]},"metadata":{},"sourceType":"module"}